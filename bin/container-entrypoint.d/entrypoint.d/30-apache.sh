#!/usr/bin/env bash

export APACHE_ENABLED=${APACHE_ENABLED:-"false"}

APACHE_SERVER_TOKENS_DEFAULT="Prod"
APACHE_LISTEN_DEFAULT="9000"

export APACHE_SERVER_TOKENS=${APACHE_SERVER_TOKENS:-"${APACHE_SERVER_TOKENS_DEFAULT}"}
export APACHE_LISTEN=${APACHE_LISTEN:-"${APACHE_LISTEN_DEFAULT}"}

APACHE_SERVER_ROOT_DEFAULT="/app/var/www"
APACHE_SERVER_ADMIN_DEFAULT="you@example.com"
APACHE_SERVER_SIGNATURE_DEFAULT="On"

APACHE_TIMEOUT_DEFAULT="60"
APACHE_KEEP_ALIVE_DEFAULT="On"
APACHE_MAX_KEEP_ALIVE_REQUESTS_DEFAULT="100"
APACHE_KEEP_ALIVE_TIMEOUT_DEFAULT="5"
APACHE_USE_CANONICAL_NAME_DEFAULT="Off"
APACHE_ACCESS_FILE_NAME_DEFAULT=".htaccess"
APACHE_HOSTNAME_LOOKUPS_DEFAULT="Off"

APACHE_MPM_WORKER_START_SERVERS_DEFAULT="3"
APACHE_MPM_WORKER_MIN_SPARE_THREADS_DEFAULT="75"
APACHE_MPM_WORKER_MAX_SPARE_THREADS_DEFAULT="250"
APACHE_MPM_WORKER_THREADS_PER_CHILD_DEFAULT="25"
APACHE_MPM_WORKER_MAX_REQUEST_WORKERS_DEFAULT="400"
APACHE_MPM_WORKER_MAX_CONNECTIONS_PER_CHILD_DEFAULT="0"
APACHE_MPM_WORKER_MAX_MEM_FREE_DEFAULT="2048"

export APACHE_SERVER_ROOT=${APACHE_SERVER_ROOT:-"${APACHE_SERVER_ROOT_DEFAULT}"}
export APACHE_SERVER_ADMIN=${APACHE_SERVER_ADMIN:-"${APACHE_SERVER_ADMIN_DEFAULT}"}
export APACHE_SERVER_SIGNATURE=${APACHE_SERVER_SIGNATURE:-"${APACHE_SERVER_SIGNATURE_DEFAULT}"}

export APACHE_TIMEOUT=${APACHE_TIMEOUT:-"${APACHE_TIMEOUT_DEFAULT}"}
export APACHE_KEEP_ALIVE=${APACHE_KEEP_ALIVE:-"${APACHE_KEEP_ALIVE_DEFAULT}"}
export APACHE_MAX_KEEP_ALIVE_REQUESTS=${APACHE_MAX_KEEP_ALIVE_REQUESTS:-"${APACHE_MAX_KEEP_ALIVE_REQUESTS_DEFAULT}"}
export APACHE_KEEP_ALIVE_TIMEOUT=${APACHE_KEEP_ALIVE_TIMEOUT:-"${APACHE_KEEP_ALIVE_TIMEOUT_DEFAULT}"}
export APACHE_USE_CANONICAL_NAME=${APACHE_USE_CANONICAL_NAME:-"${APACHE_USE_CANONICAL_NAME_DEFAULT}"}
export APACHE_ACCESS_FILE_NAME=${APACHE_ACCESS_FILE_NAME:-"${APACHE_ACCESS_FILE_NAME_DEFAULT}"}
export APACHE_HOSTNAME_LOOKUPS=${APACHE_HOSTNAME_LOOKUPS:-"${APACHE_HOSTNAME_LOOKUPS_DEFAULT}"}

export APACHE_MPM_WORKER_START_SERVERS=${APACHE_MPM_WORKER_START_SERVERS:-"${APACHE_MPM_WORKER_START_SERVERS_DEFAULT}"}
export APACHE_MPM_WORKER_MIN_SPARE_THREADS=${APACHE_MPM_WORKER_MIN_SPARE_THREADS:-"${APACHE_MPM_WORKER_MIN_SPARE_THREADS_DEFAULT}"}
export APACHE_MPM_WORKER_MAX_SPARE_THREADS=${APACHE_MPM_WORKER_MAX_SPARE_THREADS:-"${APACHE_MPM_WORKER_MAX_SPARE_THREADS_DEFAULT}"}
export APACHE_MPM_WORKER_THREADS_PER_CHILD=${APACHE_MPM_WORKER_THREADS_PER_CHILD:-"${APACHE_MPM_WORKER_THREADS_PER_CHILD_DEFAULT}"}
export APACHE_MPM_WORKER_MAX_REQUEST_WORKERS=${APACHE_MPM_WORKER_MAX_REQUEST_WORKERS:-"${APACHE_MPM_WORKER_MAX_REQUEST_WORKERS_DEFAULT}"}
export APACHE_MPM_WORKER_MAX_CONNECTIONS_PER_CHILD=${APACHE_MPM_WORKER_MAX_CONNECTIONS_PER_CHILD:-"${APACHE_MPM_WORKER_MAX_CONNECTIONS_PER_CHILD_DEFAULT}"}
export APACHE_MPM_WORKER_MAX_MEM_FREE=${APACHE_MPM_WORKER_MAX_MEM_FREE:-"${APACHE_MPM_WORKER_MAX_MEM_FREE_DEFAULT}"}

APACHE_DEFAULT_VHOST_LOG_TARGET_DEFAULT="/dev/null"

[[ "${DEBUG}" == "true" ]] && APACHE_DEFAULT_VHOST_ERROR_LOG_TARGET="/dev/stderr"
[[ "${DEBUG}" == "true" ]] && APACHE_DEFAULT_VHOST_CUSTOM_LOG_TARGET="/dev/stdout"

export APACHE_DEFAULT_VHOST_ERROR_LOG_TARGET=${APACHE_DEFAULT_VHOST_ERROR_LOG_TARGET:-"${APACHE_DEFAULT_VHOST_LOG_TARGET_DEFAULT}"}
export APACHE_DEFAULT_VHOST_CUSTOM_LOG_TARGET=${APACHE_DEFAULT_VHOST_CUSTOM_LOG_TARGET:-"${APACHE_DEFAULT_VHOST_LOG_TARGET_DEFAULT}"}

APACHE_DAEMON_LOG_DEFAULT="info"

[[ "${DEBUG}" == "true" ]] && APACHE_DAEMON_LOG="debug"

export APACHE_DAEMON_LOG=${APACHE_DAEMON_LOG:-"${APACHE_DAEMON_LOG_DEFAULT}"}

true
